!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.simplifr=t.simplifr||{})}(this,function(t){"use strict";function e(){return{dilimiter:"."}}function i(t,i,r,c){function f(t,e){if(c[e]={type:"object",childs:[]},n(t)){c[e].type="array";for(var r=-1,u=t.length;++r<u;)c[e].childs.push(r),f(t[r],e+i+r)}else if(o(t))for(var l in t)t.hasOwnProperty(l)&&(c[e].childs.push(l),f(t[l],e+i+l));else c[e]=t;return c}return c=c||{},r=r||"root",i=i||e().dilimiter,f(t,r),c}function r(t,r,o,c){c=c||e().dilimiter;var f=t[r];if("array"===f.type){var u=Math.max.apply(null,f.childs);n(o)||(o=[o]),o.forEach(function(e){f.childs.push(++u),i(e,c,r+c+u,t)})}else if("object"===f.type){var l=Object.keys(o);l.forEach(function(e){f.childs.push(e),i(o[e],c,r+c+e,t)})}return t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return"[object Object]"===Object.prototype.toString.call(t)}t.simplify=i,t.add=r});